{"version":3,"sources":["../../src/pages/register-company/register-company.module.ts","../../src/models/address.ts","../../src/models/company.ts","../../src/pages/register-company/register-company.ts"],"names":[],"mappings":"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","file":"1.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RegisterCompanyPage } from './register-company';\n\n@NgModule({\n  declarations: [\n    RegisterCompanyPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RegisterCompanyPage),\n  ],\n  exports: [\n    RegisterCompanyPage\n  ]\n})\nexport class RegisterCompanyPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register-company/register-company.module.ts","export class Address{\n  name: string\n  street: string;\n  city: string;\n  zipcode: string;\n  state: string;\n\n  constructor(name: string, street: string, city: string, zipcode: string, state: string){\n    this.name = name;\n    this.street = street;\n    this.city = city;\n    this.state = state;\n    this.zipcode = zipcode;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/address.ts","import { Address } from './address';\n\n\nexport class Company{\n  companyName: string;\n  address: Address;\n  email: string;\n  phoneNumber: string;\n\n  constructor(companyName: string, address: Address, email: string, phoneNumber: string){\n    this.companyName = companyName;\n    this.address = address;\n    this.email = email;\n    this.phoneNumber = phoneNumber;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/company.ts","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\nimport { IonicPage, NavController, AlertController, Loading,\n  LoadingController } from 'ionic-angular';\n\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { ToastProvider } from '../../providers/toast/toast';\nimport { DbFunctionsProvider } from '../../providers/db-functions/db-functions';\nimport { Company } from '../../models/company';\nimport { Address } from '../../models/address';\nimport { HomePage } from '../../pages/home/home'\n\n/**\n * Generated class for the RegisterCompanyPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-register-company',\n  templateUrl: 'register-company.html',\n})\nexport class RegisterCompanyPage {\n\n  registerCompanyForm: FormGroup;\n  public loading: Loading;\n\n  constructor(public navCtrl: NavController,\n    fb: FormBuilder,\n    public authProvider: AuthProvider,\n    public dbFunctions: DbFunctionsProvider,\n    public toastProvider: ToastProvider,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController)\n  {\n    this.registerCompanyForm = fb.group({\n      'companyName': ['', Validators.compose([Validators.required, Validators.minLength(1)])],\n      'street': ['', Validators.compose([Validators.required, Validators.minLength(1)])],\n      'city': ['', Validators.compose([Validators.required, Validators.minLength(1)])],\n      'state': ['AL', Validators.compose([Validators.required, Validators.minLength(1)])],\n      'zipcode': ['', Validators.compose([Validators.required, Validators.minLength(5)])],\n      'email': ['', Validators.compose([Validators.required, Validators.email])],\n      'phoneNumber': ['', Validators.compose([Validators.required, Validators.minLength(1)])]\n    })\n  }\n\n  // The user clicks register.\n  onSubmit(): void {\n    // use the 'createUserwithEmail' function provider by the authProvider to\n    // create and save the user IF the registerForm is valid.\n    if(!this.registerCompanyForm.valid){\n      this.toastProvider.invalidInput();\n    } else {\n      var address = new Address('CompanyHome',this.registerCompanyForm.value.street,\n        this.registerCompanyForm.value.city, this.registerCompanyForm.value.zipcode,\n        this.registerCompanyForm.value.state);\n\n      var company = new Company(this.registerCompanyForm.value.companyName, address,\n        this.registerCompanyForm.value.email, this.registerCompanyForm.value.phoneNumber);\n\n      this.dbFunctions.createCompany(company).then(_ => {\n        this.loading.dismiss().then(_ => {\n          // After Company Creation, lets prompt the user to take a quick tour.\n          this.showConfirm();\n          // this.navCtrl.setRoot('HomePage');\n        })\n      },\n      error => {\n        this.loading.dismiss().then(_ => {\n          this.displayErrorMessage(error);\n        })\n      })\n      this.loading = this.loadingCtrl.create();\n      this.loading.present();\n    }\n  }\n\n  // Create and display an error message.\n  displayErrorMessage(error: any): void {\n    let alert = this.alertCtrl.create({\n      message: error.message,\n      buttons: [{\n        text: 'OK', role: 'cancel'\n      }]\n    })\n    alert.present();\n  }\n\n  showConfirm() {\n  let confirm = this.alertCtrl.create({\n    title: 'Congratulations, your company has been registered!',\n    message: \"We suggest you take a minute to tour the app, but we get it if you're too cool for directions.\",\n    buttons: [\n      {\n        text: 'Too Cool',\n        handler: () => {\n          this.navCtrl.setRoot(HomePage);\n        }\n      },\n      {\n        text: \"Let's go!\",\n        handler: () => {\n          this.navCtrl.setRoot('TourPage');\n        }\n      }\n    ]\n  });\n  confirm.present();\n}\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register-company/register-company.ts"],"sourceRoot":""}